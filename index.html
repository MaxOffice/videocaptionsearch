<!DOCTYPE html>
<html>

<head>
    <title>Ignite Video Browser</title>
    <link rel="stylesheet" href="css/ignitevideobrowser.css">
</head>

<body>
    <main>
        <div class="container">
            <div class="toppane">
                <div class="leftpane">
                    <div class="video">
                        <video id="ignitevideo" class="main" controls></video>
                    </div>
                </div>
                <div class="rightpane nocaptionhide">
                    <div class="transcript main">

                    </div>
                </div>
            </div>
            <div class="bottompane nocaptionhide">
                <div class="wordstimeline main">
                </div>
            </div>
        </div>
    </main>
    <script src="js/subtitles-parser.js"></script>
    <script src="js/transcriptbrowser.js"></script>
    <script src="js/wordstimeline.js"></script>
    <script src="js/ignitevideobrowser.js"></script>
    <script lang="javascript">

        //var videoLink = "https://medius.studios.ms/video/asset/HIGHMP4/IG19-BRK1047"
        //var videoLink = ""
        //var srtLink = "bounce?q=https://medius.studios.ms/video/asset/CAPTION/IG19-BRK1047"
        //var srtLink = "assets/IG19-BRK1047.vtt"
        var currentURL = new URL(document.location)
        var videotitle = currentURL.searchParams.get('title')
        if (videotitle) {
            document.title = videotitle
        }

        var videoLink = currentURL.searchParams.get("video")
        var captionsquery = currentURL.searchParams.get("captions")
        var srtLink = captionsquery ? "bounce?q=" + captionsquery : ""

        if (!captionsquery) {
            document.querySelectorAll(".nocaptionhide").forEach(function (element, key) {
                element.classList.add('hidden')
            })
        }

        var browser = new IgniteVideoBrowser("main", videoLink, srtLink /*, function (ivb) {

        }*/)
    </script>
</body>

</html>